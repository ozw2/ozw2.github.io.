<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„ØºØ§Ø² - ØªØ­Ø¯Ù‰ Ø¹Ù‚Ù„Ùƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: bold;
            min-width: 120px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
        }

        .difficulty-selector {
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 20px;
        }

        .difficulty-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .difficulty-btn {
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
        }

        .difficulty-btn.easy {
            background: linear-gradient(135deg, #84fab0, #8fd3f4);
        }

        .difficulty-btn.medium {
            background: linear-gradient(135deg, #ffd89b, #19547b);
        }

        .difficulty-btn.hard {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .difficulty-btn.expert {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
        }

        .difficulty-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .difficulty-btn.active {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255,255,255,0.5);
        }

        .riddle-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .riddle-type {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .riddle-text {
            font-size: 1.4em;
            line-height: 1.6;
            margin: 20px 0;
            color: #2d3748;
            font-weight: 500;
        }

        .answer-input {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border: 3px solid #e2e8f0;
            border-radius: 12px;
            margin: 20px 0;
            transition: all 0.3s;
        }

        .answer-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            flex: 1;
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
        }

        .btn-check {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-hint {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }

        .btn-skip {
            background: linear-gradient(135deg, #ffd89b, #19547b);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            text-align: center;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .feedback.wrong {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .feedback.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .hint-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            display: none;
        }

        .hint-box.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .progress-bar {
            background: #e2e8f0;
            height: 10px;
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.5s ease;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .riddle-text {
                font-size: 1.2em;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„ØºØ§Ø²</h1>
            <p style="color: #718096; font-size: 1.1em; margin-top: 10px;">ØªØ­Ø¯Ù‰ Ø¹Ù‚Ù„Ùƒ Ù…Ø¹ Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ù„ØºØ§Ø²</p>
            
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                    <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ù…Ø­Ù„ÙˆÙ„Ø©</div>
                    <div class="stat-value" id="solved">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</div>
                    <div class="stat-value" id="level">1</div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
        </div>

        <div class="difficulty-selector">
            <h3 style="margin-bottom: 10px; color: #2d3748;">Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©:</h3>
            <div class="difficulty-buttons">
                <button class="difficulty-btn easy active" onclick="setDifficulty('easy')">
                    ğŸ˜Š Ø³Ù‡Ù„
                </button>
                <button class="difficulty-btn medium" onclick="setDifficulty('medium')">
                    ğŸ¤” Ù…ØªÙˆØ³Ø·
                </button>
                <button class="difficulty-btn hard" onclick="setDifficulty('hard')">
                    ğŸ˜¤ ØµØ¹Ø¨
                </button>
                <button class="difficulty-btn expert" onclick="setDifficulty('expert')">
                    ğŸ§  Ø®Ø¨ÙŠØ±
                </button>
            </div>
        </div>

        <div class="riddle-card" id="riddleCard">
            <span class="riddle-type" id="riddleType">Ù„ØºØ² Ù…Ù†Ø·Ù‚ÙŠ</span>
            <div class="riddle-text" id="riddleText">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            
            <input type="text" class="answer-input" id="answerInput" placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ Ù‡Ù†Ø§...">
            
            <div class="buttons">
                <button class="btn btn-check" onclick="checkAnswer()">âœ“ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
                <button class="btn btn-hint" onclick="showHint()">ğŸ’¡ ØªÙ„Ù…ÙŠØ­</button>
                <button class="btn btn-skip" onclick="nextRiddle()">â­ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>

            <div class="hint-box" id="hintBox"></div>
            <div class="feedback" id="feedback"></div>
        </div>
    </div>

    <script>
        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        let currentUser = {
            id: 'user_' + Date.now(),
            username: '',
            isAdmin: false,
            isBanned: false,
            suspicionLevel: 0,
            loginTime: Date.now()
        };

        let adminData = {
            users: [],
            suspiciousActivities: [],
            bannedUsers: []
        };

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
        function loadData() {
            const saved = localStorage.getItem('riddlesAdminData');
            if (saved) {
                adminData = JSON.parse(saved);
            }
            
            const savedUser = localStorage.getItem('currentRiddleUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
            }
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function saveData() {
            localStorage.setItem('riddlesAdminData', JSON.stringify(adminData));
            localStorage.setItem('currentRiddleUser', JSON.stringify(currentUser));
        }

        // ÙƒØ´Ù Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        let answerTimes = [];
        let lastAnswerTime = 0;

        function detectAI(isCorrect, timeTaken) {
            let suspicion = 0;
            
            // Ø¥Ø¬Ø§Ø¨Ø§Øª Ø³Ø±ÙŠØ¹Ø© Ø¬Ø¯Ø§Ù‹
            if (timeTaken < 2000 && isCorrect) {
                suspicion += 30;
            }
            
            // Ø¥Ø¬Ø§Ø¨Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ© Ø¨Ù†ÙØ³ Ø§Ù„Ø³Ø±Ø¹Ø©
            answerTimes.push(timeTaken);
            if (answerTimes.length > 3) {
                answerTimes.shift();
                const avgTime = answerTimes.reduce((a, b) => a + b) / answerTimes.length;
                const variance = answerTimes.reduce((sum, t) => sum + Math.abs(t - avgTime), 0) / answerTimes.length;
                
                if (variance < 500 && avgTime < 3000) {
                    suspicion += 25;
                }
            }
            
            // Ù…Ø¹Ø¯Ù„ Ù†Ø¬Ø§Ø­ Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ø§Ù‹
            if (solved > 10 && (solved / (solved + 1)) > 0.9) {
                suspicion += 20;
            }
            
            currentUser.suspicionLevel += suspicion;
            
            if (currentUser.suspicionLevel > 50) {
                reportSuspiciousActivity('Ø§Ø­ØªÙ…Ø§Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… AI - Ø³Ø±Ø¹Ø© ÙˆØ¥Ø¬Ø§Ø¨Ø§Øª ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠØ©');
            }
            
            saveData();
        }

        function reportSuspiciousActivity(reason) {
            adminData.suspiciousActivities.push({
                userId: currentUser.id,
                username: currentUser.username || 'Ù…Ø¬Ù‡ÙˆÙ„',
                reason: reason,
                suspicionLevel: currentUser.suspicionLevel,
                time: new Date().toLocaleString('ar-SA'),
                score: score,
                solved: solved
            });
            saveData();
        }

        // Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ù„ØºØ§Ø²
        const riddles = {
            easy: [
                {
                    type: "Ù„ØºØ² ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ",
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ø´ÙŠ Ø¨Ù„Ø§ Ø£Ø±Ø¬Ù„ ÙˆÙŠØ¨ÙƒÙŠ Ø¨Ù„Ø§ Ø¹ÙŠÙˆÙ†ØŸ",
                    answer: ["Ø§Ù„Ø³Ø­Ø§Ø¨", "Ø§Ù„ØºÙŠÙ…", "Ø³Ø­Ø§Ø¨", "ØºÙŠÙ…"],
                    hint: "ÙŠÙ†Ø²Ù„ Ù…Ù†Ù‡ Ø§Ù„Ù…Ø·Ø± â˜ï¸"
                },
                {
                    type: "Ù„ØºØ² Ø´Ø¹Ø¨ÙŠ",
                    question: "Ù„Ù‡ Ø±Ø£Ø³ ÙˆÙ„Ø§ Ø¹ÙŠÙ† Ù„Ù‡ØŒ ÙˆÙ‡ÙŠ Ù„Ù‡Ø§ Ø¹ÙŠÙ† ÙˆÙ„Ø§ Ø±Ø£Ø³ Ù„Ù‡Ø§. Ù…Ø§ Ù‡Ù…Ø§ØŸ",
                    answer: ["Ø§Ù„Ø¯Ø¨ÙˆØ³ ÙˆØ§Ù„Ø¥Ø¨Ø±Ø©", "Ø¯Ø¨ÙˆØ³ ÙˆØ¥Ø¨Ø±Ø©", "Ø§Ù„Ø¯Ø¨ÙˆØ³ ÙˆØ§Ø¨Ø±Ø©", "Ø¯Ø¨ÙˆØ³ ÙˆØ§Ø¨Ø±Ø©"],
                    hint: "ÙŠØ³ØªØ®Ø¯Ù…Ø§Ù† ÙÙŠ Ø§Ù„Ø®ÙŠØ§Ø·Ø© ğŸª¡"
                },
                {
                    type: "Ù„ØºØ² Ø±ÙŠØ§Ø¶ÙŠ",
                    question: "Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ù…Ø± Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¢Ù† 10 Ø³Ù†ÙˆØ§ØªØŒ ÙƒÙ… ÙƒØ§Ù† Ø¹Ù…Ø±Ù‡ Ù‚Ø¨Ù„ 5 Ø³Ù†ÙˆØ§ØªØŸ",
                    answer: ["5", "Ø®Ù…Ø³Ø©", "Ø®Ù…Ø³ Ø³Ù†ÙˆØ§Øª", "5 Ø³Ù†ÙˆØ§Øª"],
                    hint: "10 - 5 = ØŸ"
                },
                {
                    type: "Ù„ØºØ² Ù…Ù†Ø·Ù‚ÙŠ",
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯ Ù†Ù‚ØµØŸ",
                    answer: ["Ø§Ù„Ø¹Ù…Ø±", "Ø¹Ù…Ø±", "Ø§Ù„Ø³Ù†", "Ø³Ù†"],
                    hint: "ÙŠØªØ¹Ù„Ù‚ Ø¨Ø­ÙŠØ§Ø© Ø§Ù„Ø¥Ù†Ø³Ø§Ù† â³"
                },
                {
                    type: "Ù„ØºØ² ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ",
                    question: "Ø£Ù†Ø§ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§Ø± Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª ÙˆÙÙŠ Ø§Ù„Ù„ÙŠÙ„ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©ØŒ Ù…Ù† Ø£Ù†Ø§ØŸ",
                    answer: ["Ø­Ø±Ù Ø§", "Ø§Ù„Ø£Ù„Ù", "Ø­Ø±Ù Ø§Ù„Ø£Ù„Ù", "Ø§"],
                    hint: "ÙÙƒØ± ÙÙŠ Ø§Ù„Ø­Ø±ÙˆÙ ğŸ“"
                }
            ],
            medium: [
                {
                    type: "Ù„ØºØ² Ø°ÙƒØ§Ø¡",
                    question: "Ø±Ø¬Ù„ Ù„Ù‡ 5 Ø¨Ù†Ø§ØªØŒ ÙˆÙƒÙ„ Ø¨Ù†Øª Ù„Ù‡Ø§ Ø£Ø® ÙˆØ§Ø­Ø¯. ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø·ÙØ§Ù„ Ø§Ù„Ø±Ø¬Ù„ØŸ",
                    answer: ["6", "Ø³ØªØ©", "6 Ø£Ø·ÙØ§Ù„", "Ø³ØªØ© Ø£Ø·ÙØ§Ù„"],
                    hint: "Ø§Ù„Ø£Ø® ÙˆØ§Ø­Ø¯ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ù†Ø§Øª ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦"
                },
                {
                    type: "Ù„ØºØ² Ø±ÙŠØ§Ø¶ÙŠ",
                    question: "Ø¥Ø°Ø§ ÙƒØ§Ù†Øª 5 Ù‚Ø·Ø· ØªØµØ·Ø§Ø¯ 5 ÙØ¦Ø±Ø§Ù† ÙÙŠ 5 Ø¯Ù‚Ø§Ø¦Ù‚ØŒ ÙƒÙ… Ù‚Ø·Ø© Ù†Ø­ØªØ§Ø¬ Ù„Ø§ØµØ·ÙŠØ§Ø¯ 100 ÙØ£Ø± ÙÙŠ 100 Ø¯Ù‚ÙŠÙ‚Ø©ØŸ",
                    answer: ["5", "Ø®Ù…Ø³Ø©", "5 Ù‚Ø·Ø·", "Ø®Ù…Ø³ Ù‚Ø·Ø·"],
                    hint: "Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø«Ø§Ø¨Øª Ù„ÙƒÙ„ Ù‚Ø·Ø© ğŸ±"
                },
                {
                    type: "Ù„ØºØ² Ù…Ù†Ø·Ù‚ÙŠ",
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ø¥Ø°Ø§ Ø£Ø®Ø°Øª Ù…Ù†Ù‡ ÙƒØ¨Ø± ÙˆØ¥Ø°Ø§ Ø£Ø¶ÙØª Ø¥Ù„ÙŠÙ‡ ØµØºØ±ØŸ",
                    answer: ["Ø§Ù„Ø­ÙØ±Ø©", "Ø­ÙØ±Ø©", "Ø§Ù„Ø­ÙØ±"],
                    hint: "Ø´ÙŠØ¡ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ â›ï¸"
                },
                {
                    type: "Ù„ØºØ² ÙƒÙ„Ù…Ø§Øª",
                    question: "ÙƒÙ„Ù…Ø© Ù…Ù† 4 Ø­Ø±ÙˆÙØŒ Ø¥Ø°Ø§ Ø£ÙƒÙ„Øª ÙˆØ§Ø­Ø¯ Ù…Ù†Ù‡Ø§ Ø¬Ø¹ØªØŒ ÙˆØ¥Ø°Ø§ Ø£ÙƒÙ„Øª Ø§Ø«Ù†ÙŠÙ† Ø´Ø¨Ø¹ØªØŒ ÙˆØ¥Ø°Ø§ Ø£ÙƒÙ„Øª Ø«Ù„Ø§Ø«Ø© Ù…ØªØŸ",
                    answer: ["Ø®Ø¨Ø²", "Ø§Ù„Ø®Ø¨Ø²"],
                    hint: "Ø·Ø¹Ø§Ù… Ø£Ø³Ø§Ø³ÙŠ ğŸ"
                },
                {
                    type: "Ù„ØºØ² Ø±ÙŠØ§Ø¶ÙŠ",
                    question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø°ÙŠ Ø¥Ø°Ø§ Ø¶Ø±Ø¨ØªÙ‡ ÙÙŠ Ù†ÙØ³Ù‡ ÙˆØ£Ø¶ÙØª Ø¥Ù„ÙŠÙ‡ 5 Ø£ØµØ¨Ø­ 30ØŸ",
                    answer: ["5", "Ø®Ù…Ø³Ø©"],
                    hint: "ÙÙƒØ± ÙÙŠ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµØºÙŠØ±Ø© ğŸ”¢"
                }
            ],
            hard: [
                {
                    type: "Ù„ØºØ² ØªØ­Ù„ÙŠÙ„ÙŠ",
                    question: "ÙÙŠ ØºØ±ÙØ© 3 Ù…ØµØ§Ø¨ÙŠØ­ØŒ ÙˆØ®Ø§Ø±Ø¬ Ø§Ù„ØºØ±ÙØ© 3 Ù…ÙØ§ØªÙŠØ­. ÙƒÙ„ Ù…ÙØªØ§Ø­ Ù„Ù…ØµØ¨Ø§Ø­ ÙˆØ§Ø­Ø¯. ÙƒÙŠÙ ØªØ¹Ø±Ù Ø£ÙŠ Ù…ÙØªØ§Ø­ Ù„Ø£ÙŠ Ù…ØµØ¨Ø§Ø­ Ø¨Ø¯Ø®ÙˆÙ„ Ø§Ù„ØºØ±ÙØ© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·ØŸ",
                    answer: ["Ø§Ø´ØºÙ„ Ø§Ù„Ø£ÙˆÙ„ ÙØªØ±Ø© Ø«Ù… Ø§Ø·ÙÙŠÙ‡ ÙˆØ§Ø´ØºÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ", "ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ Ø«Ù… Ø¥Ø·ÙØ§Ø¤Ù‡ ÙˆØªØ´ØºÙŠÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ", "Ø´ØºÙ„ ÙˆØ§Ø­Ø¯ ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø©"],
                    hint: "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØ§Ù„Ø¶ÙˆØ¡ Ù…Ø¹Ø§Ù‹ ğŸ’¡"
                },
                {
                    type: "Ù„ØºØ² Ø±ÙŠØ§Ø¶ÙŠ",
                    question: "Ø¹Ø¯Ø¯ Ø¥Ø°Ø§ Ø¶Ø±Ø¨ØªÙ‡ ÙÙŠ 4 Ø«Ù… Ø·Ø±Ø­Øª Ù…Ù† Ø§Ù„Ù†Ø§ØªØ¬ 6 Ø«Ù… Ù‚Ø³Ù…Øª Ø§Ù„Ù†Ø§ØªØ¬ Ø¹Ù„Ù‰ 2 Ø­ØµÙ„Øª Ø¹Ù„Ù‰ 11ØŒ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ø¯Ø¯ØŸ",
                    answer: ["7", "Ø³Ø¨Ø¹Ø©"],
                    hint: "Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ© ğŸ”„"
                },
                {
                    type: "Ù„ØºØ² Ù…Ù†Ø·Ù‚ÙŠ",
                    question: "Ø£Ù†Ø§ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…ÙˆØª ÙˆÙ†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø±Ø¶ØŒ Ø£Ù†Ø§ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø­ÙŠØ§Ø© ÙˆØ¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø­Ø²Ù†. Ù…Ù† Ø£Ù†Ø§ØŸ",
                    answer: ["Ø­Ø±Ù Ø§Ù„Ù…ÙŠÙ…", "Ø§Ù„Ù…ÙŠÙ…", "Ø­Ø±Ù Ù…", "Ù…"],
                    hint: "Ø§Ù†Ø¸Ø± Ù„Ù„Ø­Ø±ÙˆÙ ÙÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ğŸ“–"
                },
                {
                    type: "Ù„ØºØ² Ø°ÙƒØ§Ø¡",
                    question: "Ø±Ø¬Ù„ ÙŠÙ‚Ù Ø£Ù…Ø§Ù… Ù„ÙˆØ­Ø© ÙˆÙŠÙ‚ÙˆÙ„: Ù„ÙŠØ³ Ù„ÙŠ Ø£Ø®ÙˆØ© ÙˆÙ„Ø§ Ø£Ø®ÙˆØ§ØªØŒ Ù„ÙƒÙ† Ø£Ø¨Ùˆ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø¬Ù„ Ù‡Ùˆ Ø§Ø¨Ù† Ø£Ø¨ÙŠ. Ù…Ù† ÙÙŠ Ø§Ù„Ù„ÙˆØ­Ø©ØŸ",
                    answer: ["Ø§Ø¨Ù†Ù‡", "Ø§Ø¨Ù† Ø§Ù„Ø±Ø¬Ù„", "Ø§Ø¨Ù†", "Ø§Ù„Ø§Ø¨Ù†"],
                    hint: "ÙÙƒØ± ÙÙŠ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© ğŸ‘¨â€ğŸ‘¦"
                },
                {
                    type: "Ù„ØºØ² ØªØ­Ù„ÙŠÙ„ÙŠ",
                    question: "ØµÙ†Ø¯ÙˆÙ‚ Ø¨Ù‡ ØªÙØ§Ø­ ÙˆØ¨Ø±ØªÙ‚Ø§Ù„. Ø¥Ø°Ø§ Ø£Ø®Ø°Øª ØªÙØ§Ø­ØªÙŠÙ†ØŒ ÙƒÙ… ØªÙØ§Ø­Ø© Ù…Ø¹ÙƒØŸ",
                    answer: ["2", "ØªÙØ§Ø­ØªØ§Ù†", "Ø§Ø«Ù†ØªØ§Ù†", "ØªÙØ§Ø­ØªÙŠÙ†"],
                    hint: "Ø§Ù„Ø³Ø¤Ø§Ù„ Ø£Ø¨Ø³Ø· Ù…Ù…Ø§ ØªØ¸Ù† ğŸ"
                }
            ],
            expert: [
                {
                    type: "Ù„ØºØ² Ø§Ø­ØªØ±Ø§ÙÙŠ",
                    question: "Ø«Ù„Ø§Ø«Ø© Ø¢Ù„Ù‡Ø© ÙŠØ¬ÙŠØ¨ÙˆÙ† Ø¨Ù†Ø¹Ù… Ø£Ùˆ Ù„Ø§ØŒ Ø£Ø­Ø¯Ù‡Ù… ØµØ§Ø¯Ù‚ Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŒ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠ ÙƒØ§Ø°Ø¨ Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŒ ÙˆØ§Ù„Ø«Ø§Ù„Ø« Ø¹Ø´ÙˆØ§Ø¦ÙŠ. Ø¨Ø³Ø¤Ø§Ù„ÙŠÙ† ÙÙ‚Ø·ØŒ ÙƒÙŠÙ ØªØ¹Ø±Ù Ù…Ù† Ù‡Ùˆ Ù…Ù†ØŸ",
                    answer: ["Ø³Ø¤Ø§Ù„ Ù…Ø±ÙƒØ¨ Ø¹Ù† Ù…Ø§ Ø³ÙŠÙ‚ÙˆÙ„Ù‡ Ø§Ù„Ø¢Ø®Ø±", "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ù…Ø¨Ø§Ø´Ø±Ø©", "Ø³Ø¤Ø§Ù„ Ø§Ø­ØªÙ…Ø§Ù„ÙŠ"],
                    hint: "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ğŸ§©"
                },
                {
                    type: "Ù„ØºØ² Ø±ÙŠØ§Ø¶ÙŠ Ù…Ø¹Ù‚Ø¯",
                    question: "Ø¹Ù†Ø¯ÙŠ Ø¹Ø¯Ø¯ Ù…Ù† 3 Ø£Ø±Ù‚Ø§Ù…. Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙˆÙ„ Ø¶Ø¹Ù Ø§Ù„Ø«Ø§Ù„Ø«ØŒ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… 12ØŒ ÙˆØ§Ù„Ø¹Ø¯Ø¯ ÙØ±Ø¯ÙŠ. Ù…Ø§ Ù‡ÙˆØŸ",
                    answer: ["525", "Ø®Ù…Ø³Ù…Ø§Ø¦Ø© ÙˆØ®Ù…Ø³Ø© ÙˆØ¹Ø´Ø±ÙˆÙ†"],
                    hint: "Ø¬Ø±Ø¨ Ø£Ø¹Ø¯Ø§Ø¯ ÙØ±Ø¯ÙŠØ© ØªØ¨Ø¯Ø£ Ø¨Ù€ 5 ğŸ¯"
                },
                {
                    type: "Ù„ØºØ² Ù…Ù†Ø·Ù‚ÙŠ",
                    question: "ÙÙŠ Ù‚Ø·Ø§Ø± ÙŠØ³ÙŠØ± Ø¨Ø³Ø±Ø¹Ø© 60 ÙƒÙ…/Ø³ØŒ Ø±Ø¬Ù„ ÙŠÙ…Ø´ÙŠ Ø¯Ø§Ø®Ù„Ù‡ Ø¨Ø³Ø±Ø¹Ø© 6 ÙƒÙ…/Ø³ Ø¨Ø¹ÙƒØ³ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø·Ø§Ø±. Ù…Ø§ Ø³Ø±Ø¹Ø© Ø§Ù„Ø±Ø¬Ù„ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø£Ø±Ø¶ØŸ",
                    answer: ["54", "54 ÙƒÙ…/Ø³", "Ø£Ø±Ø¨Ø¹Ø© ÙˆØ®Ù…Ø³ÙˆÙ†"],
                    hint: "Ø§Ø·Ø±Ø­ Ø§Ù„Ø³Ø±Ø¹ØªÙŠÙ† ğŸš‚"
                },
                {
                    type: "Ù„ØºØ² Ø§Ø³ØªÙ†ØªØ§Ø¬ÙŠ",
                    question: "ÙÙŠ Ø¬Ø²ÙŠØ±Ø©ØŒ Ù†ØµÙ Ø§Ù„Ø³ÙƒØ§Ù† ÙŠÙ‚ÙˆÙ„ÙˆÙ† Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŒ ÙˆØ§Ù„Ù†ØµÙ Ø§Ù„Ø¢Ø®Ø± ÙŠÙƒØ°Ø¨ Ø¯Ø§Ø¦Ù…Ø§Ù‹. Ù‚Ø§Ø¨Ù„Øª Ø´Ø®ØµØ§Ù‹ Ù‚Ø§Ù„: 'Ø£Ù†Ø§ ÙƒØ§Ø°Ø¨'. Ù‡Ù„ Ù‡Ø°Ø§ Ù…Ù…ÙƒÙ†ØŸ",
                    answer: ["Ù„Ø§", "Ù…Ø³ØªØ­ÙŠÙ„", "ØºÙŠØ± Ù…Ù…ÙƒÙ†", "Ù„Ø§ ÙŠÙ…ÙƒÙ†"],
                    hint: "ÙÙƒØ± ÙÙŠ Ø§Ù„ØªÙ†Ø§Ù‚Ø¶ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ ğŸ¤¯"
                },
                {
                    type: "Ù„ØºØ² Ø±ÙŠØ§Ø¶ÙŠ",
                    question: "Ø¹Ø¯Ø¯ Ø¥Ø°Ø§ Ù‚Ø³Ù…ØªÙ‡ Ø¹Ù„Ù‰ 2 ÙˆØ£Ø¶ÙØª 10 Ø«Ù… Ø¶Ø±Ø¨Øª ÙÙŠ 3 Ø«Ù… Ø·Ø±Ø­Øª 6 Ø­ØµÙ„Øª Ø¹Ù„Ù‰ 60. Ù…Ø§ Ø§Ù„Ø¹Ø¯Ø¯ØŸ",
                    answer: ["8", "Ø«Ù…Ø§Ù†ÙŠØ©"],
                    hint: "Ø¹ÙƒØ³ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ğŸ”¢"
                }
            ]
        };

        let currentDifficulty = 'easy';
        let currentRiddle = null;
        let score = 0;
        let solved = 0;
        let level = 1;
        let hintsUsed = 0;
        let riddlesSolved = 0;

        function setDifficulty(difficulty) {
            currentDifficulty = difficulty;
            
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            nextRiddle();
        }

        function getRandomRiddle() {
            const difficultyRiddles = riddles[currentDifficulty];
            return difficultyRiddles[Math.floor(Math.random() * difficultyRiddles.length)];
        }

        function nextRiddle() {
            currentRiddle = getRandomRiddle();
            document.getElementById('riddleType').textContent = currentRiddle.type;
            document.getElementById('riddleText').textContent = currentRiddle.question;
            document.getElementById('answerInput').value = '';
            document.getElementById('hintBox').classList.remove('show');
            document.getElementById('feedback').classList.remove('show');
            hintsUsed = 0;
        }

        function showHint() {
            if (score < 5) {
                alert('âŒ ØªØ­ØªØ§Ø¬ 5 Ù†Ù‚Ø§Ø· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ„Ù…ÙŠØ­!');
                return;
            }
            
            const hintBox = document.getElementById('hintBox');
            hintBox.textContent = 'ğŸ’¡ ' + currentRiddle.hint + ' (-5 Ù†Ù‚Ø§Ø·)';
            hintBox.classList.add('show');
            hintsUsed++;
            
            // Ø®ØµÙ… 5 Ù†Ù‚Ø§Ø· Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙ„Ù…ÙŠØ­
            score -= 5;
            updateStats();
        }

        function checkAnswer() {
            // ÙØ­Øµ Ø§Ù„Ø¨Ø§Ù†
            if (currentUser.isBanned) {
                alert('ğŸš« ØªÙ… Ø­Ø¸Ø±Ùƒ Ù…Ù† Ø§Ù„Ù„Ø¹Ø¨!');
                return;
            }
            
            const answerTime = Date.now();
            const timeTaken = lastAnswerTime ? answerTime - lastAnswerTime : 5000;
            
            const userAnswer = document.getElementById('answerInput').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback');
            
            const isCorrect = currentRiddle.answer.some(ans => 
                userAnswer === ans.toLowerCase() || userAnswer.includes(ans.toLowerCase())
            );

            // ÙƒØ´Ù AI
            detectAI(isCorrect, timeTaken);

            if (isCorrect) {
                feedback.textContent = 'ğŸ‰ Ù…Ù…ØªØ§Ø²! Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!';
                feedback.className = 'feedback correct show';
                
                let points = 10;
                if (currentDifficulty === 'medium') points = 20;
                if (currentDifficulty === 'hard') points = 30;
                if (currentDifficulty === 'expert') points = 50;
                
                score += points;
                solved++;
                riddlesSolved++;
                
                if (riddlesSolved % 5 === 0) {
                    level++;
                }
                
                updateStats();
                saveData();
                
                setTimeout(nextRiddle, 2000);
            } else {
                feedback.textContent = 'âŒ Ù„Ù„Ø£Ø³ÙØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!';
                feedback.className = 'feedback wrong show';
            }
            
            lastAnswerTime = Date.now();
        }

        function updateStats() {
            document.getElementById('score').textContent = score;
            document.getElementById('solved').textContent = solved;
            document.getElementById('level').textContent = level;
            
            const progress = (riddlesSolved % 5) * 20;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        document.getElementById('answerInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        // ØªØ­Ù…ÙŠÙ„ Ø£ÙˆÙ„ Ù„ØºØ²
        loadData();
        nextRiddle();
    </script>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
    <div id="adminPanel" style="display: none;">
        <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
            <div style="max-width: 1200px; margin: 20px auto; background: white; border-radius: 20px; padding: 30px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h2 style="color: #667eea;">ğŸ›¡ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©</h2>
                    <button onclick="closeAdmin()" style="padding: 10px 20px; background: #f56565; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">âœ• Ø¥ØºÙ„Ø§Ù‚</button>
                </div>

                <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø© -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 2em; font-weight: bold;" id="totalUsers">0</div>
                        <div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 2em; font-weight: bold;" id="suspiciousCount">0</div>
                        <div>Ù†Ø´Ø§Ø·Ø§Øª Ù…Ø´Ø¨ÙˆÙ‡Ø©</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #ffd89b, #19547b); color: white; padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 2em; font-weight: bold;" id="bannedCount">0</div>
                        <div>Ù…Ø­Ø¸ÙˆØ±ÙŠÙ†</div>
                    </div>
                </div>

                <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© -->
                <div style="background: #fff3cd; border: 2px solid #ffc107; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h3 style="color: #856404; margin-bottom: 15px;">âš ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© - ÙƒØ´Ù Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h3>
                    <div id="suspiciousActivities" style="max-height: 300px; overflow-y: auto;">
                        <p style="color: #856404;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ø´Ø§Ø·Ø§Øª Ù…Ø´Ø¨ÙˆÙ‡Ø©</p>
                    </div>
                </div>

                <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† -->
                <div style="background: #f7fafc; border-radius: 12px; padding: 20px;">
                    <h3 style="color: #2d3748; margin-bottom: 15px;">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
                    <div id="usersList" style="max-height: 400px; overflow-y: auto;">
                        <p style="color: #718096;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
    <div style="position: fixed; bottom: 20px; left: 20px; z-index: 999;">
        <button id="adminBtn" onclick="checkAdminAccess()" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 15px 25px; border-radius: 50px; cursor: pointer; font-weight: bold; box-shadow: 0 5px 15px rgba(0,0,0,0.3); display: none;">
            ğŸ›¡ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        </button>
    </div>

    <script>
        const ADMIN_PASSWORD = 'admin123';

        function checkAdminAccess() {
            const password = prompt('ğŸ” Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ù…Ø¯ÙŠØ±:');
            if (password === ADMIN_PASSWORD) {
                currentUser.isAdmin = true;
                openAdminPanel();
            } else {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø³Ø± Ø®Ø§Ø·Ø¦Ø©!');
                reportSuspiciousActivity('Ù…Ø­Ø§ÙˆÙ„Ø© Ø¯Ø®ÙˆÙ„ ØºÙŠØ± Ù…ØµØ±Ø­ Ø¨Ù‡Ø§ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©');
            }
        }

        function openAdminPanel() {
            document.getElementById('adminPanel').style.display = 'block';
            loadAdminData();
        }

        function closeAdmin() {
            document.getElementById('adminPanel').style.display = 'none';
        }

        function loadAdminData() {
            document.getElementById('totalUsers').textContent = adminData.users.length || 1;
            document.getElementById('suspiciousCount').textContent = adminData.suspiciousActivities.length;
            document.getElementById('bannedCount').textContent = adminData.bannedUsers.length;

            const suspiciousDiv = document.getElementById('suspiciousActivities');
            if (adminData.suspiciousActivities.length === 0) {
                suspiciousDiv.innerHTML = '<p style="color: #856404;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ø´Ø§Ø·Ø§Øª Ù…Ø´Ø¨ÙˆÙ‡Ø©</p>';
            } else {
                let html = '<div style="display: flex; flex-direction: column; gap: 10px;">';
                adminData.suspiciousActivities.slice().reverse().forEach((activity) => {
                    html += `
                        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #f5576c;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <strong style="color: #2d3748;">${activity.username} (${activity.userId.substr(0, 8)}...)</strong>
                                <span style="color: #718096; font-size: 0.9em;">${activity.time}</span>
                            </div>
                            <div style="color: #e53e3e; margin-bottom: 5px;">âš ï¸ ${activity.reason}</div>
                            <div style="color: #718096; font-size: 0.9em;">
                                Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø´Ùƒ: ${activity.suspicionLevel}% | Ø§Ù„Ù†Ù‚Ø§Ø·: ${activity.score} | Ù…Ø­Ù„ÙˆÙ„Ø©: ${activity.solved}
                            </div>
                            <button onclick="banUserById('${activity.userId}')" style="margin-top: 10px; padding: 8px 15px; background: #e53e3e; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold;">
                                ğŸš« Ø­Ø¸Ø±
                            </button>
                            <button onclick="warnUser('${activity.userId}')" style="margin-top: 10px; margin-right: 10px; padding: 8px 15px; background: #ffa500; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold;">
                                âš ï¸ ØªØ­Ø°ÙŠØ±
                            </button>
                        </div>
                    `;
                });
                html += '</div>';
                suspiciousDiv.innerHTML = html;
            }

            displayUsersList();
        }

        function displayUsersList() {
            const usersDiv = document.getElementById('usersList');
            
            if (!adminData.users.find(u => u.id === currentUser.id)) {
                adminData.users.push({
                    id: currentUser.id,
                    username: currentUser.username || 'Ù…Ø³ØªØ®Ø¯Ù… ' + adminData.users.length,
                    score: score,
                    solved: solved,
                    level: level,
                    isBanned: currentUser.isBanned,
                    suspicionLevel: currentUser.suspicionLevel
                });
            }

            if (adminData.users.length === 0) {
                usersDiv.innerHTML = '<p style="color: #718096;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p>';
            } else {
                let html = '<div style="display: flex; flex-direction: column; gap: 10px;">';
                adminData.users.forEach((user, index) => {
                    const isBanned = adminData.bannedUsers.includes(user.id);
                    const statusColor = isBanned ? '#e53e3e' : (user.suspicionLevel > 50 ? '#ffa500' : '#48bb78');
                    const statusText = isBanned ? 'ğŸš« Ù…Ø­Ø¸ÙˆØ±' : (user.suspicionLevel > 50 ? 'âš ï¸ Ù…Ø´Ø¨ÙˆÙ‡' : 'âœ… Ø¹Ø§Ø¯ÙŠ');
                    
                    html += `
                        <div style="background: white; padding: 15px; border-radius: 8px; border: 2px solid ${statusColor};">
                            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                                <div>
                                    <div style="font-weight: bold; color: #2d3748; margin-bottom: 5px;">
                                        ${user.username || 'Ù…Ø³ØªØ®Ø¯Ù… ' + (index + 1)}
                                        ${user.id === currentUser.id ? '(Ø£Ù†Øª)' : ''}
                                    </div>
                                    <div style="color: #718096; font-size: 0.9em;">
                                        ID: ${user.id.substr(0, 12)}...
                                    </div>
                                    <div style="color: #718096; font-size: 0.9em; margin-top: 5px;">
                                        Ø§Ù„Ù†Ù‚Ø§Ø·: ${user.score || 0} | Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${user.level || 1} | Ù…Ø­Ù„ÙˆÙ„Ø©: ${user.solved || 0}
                                    </div>
                                    <div style="color: ${statusColor}; font-weight: bold; margin-top: 5px;">
                                        ${statusText} | Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø´Ùƒ: ${user.suspicionLevel || 0}%
                                    </div>
                                </div>
                                <div style="display: flex; gap: 10px; flex-direction: column;">
                                    ${!isBanned ? `
                                        <button onclick="banUserById('${user.id}')" style="padding: 8px 15px; background: #e53e3e; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; white-space: nowrap;">
                                            ğŸš« Ø­Ø¸Ø±
                                        </button>
                                        <button onclick="warnUser('${user.id}')" style="padding: 8px 15px; background: #ffa500; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; white-space: nowrap;">
                                            âš ï¸ ØªØ­Ø°ÙŠØ±
                                        </button>
                                    ` : `
                                        <button onclick="unbanUser('${user.id}')" style="padding: 8px 15px; background: #48bb78; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; white-space: nowrap;">
                                            âœ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¸Ø±
                                        </button>
                                    `}
                                </div>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
                usersDiv.innerHTML = html;
            }
        }

        function banUserById(userId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø¸Ø± Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ')) {
                if (!adminData.bannedUsers.includes(userId)) {
                    adminData.bannedUsers.push(userId);
                }
                
                if (userId === currentUser.id) {
                    currentUser.isBanned = true;
                    alert('â›” ØªÙ… Ø­Ø¸Ø±Ùƒ Ù…Ù† Ø§Ù„Ù„Ø¹Ø¨!');
                }
                
                saveData();
                loadAdminData();
                alert('âœ… ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');
            }
        }

        function unbanUser(userId) {
            adminData.bannedUsers = adminData.bannedUsers.filter(id => id !== userId);
            
            if (userId === currentUser.id) {
                currentUser.isBanned = false;
            }
            
            saveData();
            loadAdminData();
            alert('âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø­Ø¸Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
        }

        function warnUser(userId) {
            const message = prompt('Ø£Ø¯Ø®Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ø°ÙŠØ±:');
            if (message) {
                if (userId === currentUser.id) {
                    alert('âš ï¸ ØªØ­Ø°ÙŠØ± Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:\n\n' + message);
                }
                adminData.suspiciousActivities.push({
                    userId: userId,
                    username: 'ØªØ­Ø°ÙŠØ± Ø¥Ø¯Ø§Ø±ÙŠ',
                    reason: 'ØªØ­Ø°ÙŠØ±: ' + message,
                    suspicionLevel: 0,
                    time: new Date().toLocaleString('ar-SA'),
                    score: 0,
                    solved: 0
                });
                saveData();
                loadAdminData();
            }
        }

        // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        let adminClicks = 0;
        let adminClickTimer;
        
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                document.getElementById('adminBtn').style.display = 'block';
            }
        });

        // Ø§Ù„Ø¶ØºØ· 5 Ù…Ø±Ø§Øª Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ)
        document.querySelector('.header h1').addEventListener('click', function(e) {
            e.preventDefault();
            adminClicks++;
            clearTimeout(adminClickTimer);
            
            if (adminClicks >= 5) {
                document.getElementById('adminBtn').style.display = 'block';
                adminClicks = 0;
                alert('ğŸ›¡ï¸ ØªÙ… ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©! Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø²Ø±Ù‚ ØªØ­Øª ÙŠØ³Ø§Ø± Ø§Ù„Ø´Ø§Ø´Ø©');
            } else {
                // Ø¹Ø±Ø¶ Ø¹Ø¯Ø§Ø¯ Ù…Ø¤Ù‚Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
                const remaining = 5 - adminClicks;
                console.log(`Ø¨Ù‚ÙŠ ${remaining} Ù†Ù‚Ø±Ø§Øª Ù„ØªÙØ¹ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©`);
            }
            
            adminClickTimer = setTimeout(() => {
                adminClicks = 0;
            }, 2000);
        });
        
        // Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± ÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù„ÙŠØ¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ù†Ù‡ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù†Ù‚Ø±
        document.querySelector('.header h1').style.cursor = 'pointer';
    
    </script>
</body>
</html>
